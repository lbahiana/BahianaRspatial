## This code user the osmar package ( created by tho.schlesinger@googlemail.com) to assess edits made on Open Street Map
## on Brazilian Capital Cities - Example Manaus

install.packages("osmar") ## package should be downloaded from R repo
library("osmar") ## make it avaliable for R session
src <- osmsource_api() ## first define the source in this case the OSM API http:// api.openstreetmap.org/api/0.6
bbox <- corner_bbox(-60.1189,-3.1583,-59.8724,-2.9475) ## computes  ManausÂ´s bounding box corners counter clockwise
manaus <- get_osm(bbox, source =src) ## creating a R Object with get_osm function
manaus <- get_osm(bbox, source =src)
str(manaus) ## structure
summary(manaus)
predios <- find(manaus, way(tags(k=="building")))
predios <-find_down(manaus,way(predios))
predios <-subset(manaus,ids=predios)
predios <- as_sp(predios,"polygons")
spplot(predios, c("timestamp")) 
ruas <- find(manaus, way(tags(k=="highway")))
ruas <-find_down(manaus,way(ruas))
ruas <-subset(manaus,ids=ruas)
ruas <-as_sp(ruas, "lines")
spplot(ruas, c("changeset"))
spplot(ruas,c("timestamp"))
